---
date: 2025-11-03 09:26:56
---

# 数组

## Array.from

数组的 `Array.from()` 方法用于从 **类数组对象** 或 **可迭代对象** 创建一个新的数组实例。

基础语法：
``` javascript
Array.from(arrayLike, mapFn?, thisArg?)
```

|    参数     | 是否必选 | 描述                                         |
|:---------:|:----:|:-------------------------------------------|
| arrayLike |  是   | 类数组对象（有 length 属性）或可迭代对象（如 Set、Map、String） |
|   mapFn   |  否   | 对每个元素执行的映射函数，相当于 `map()` 函数                |
|  thisArg  |  否   | 执行 mapFn 时的 this 值                         |

:::code-group
``` javascript [Set转数组]
const set = new Set([1, 2, 3]);
const arr = Array.from(set);
console.log(arr); // [1, 2, 3]
```

``` javascript [处理数组元素]
const arr = Array.from([1, 2, 3], x => x * 2);
console.log(arr); // [2, 4, 6]

// 等价于
const arr1 = [1, 2, 3].map(x => x * 2);
console.log(arr1); // [2, 4, 6]
```

``` javascript [指定长度并填充数组]
const arr = Array.from({ length: 4 }, (_, i) => i + 1);
console.log(arr); // [1, 2, 3, 4]
```

``` javascript [类数组对象]
function demo() {
  // 将类数组对象转换为数组
  const args = Array.from(arguments);
  console.log(args); // [1, 2, 3]
}
demo(1, 2, 3);
```
:::

## Array.of

数组的 `Array.of()` 方法用于弥补数组构造函数 `Array()` 的不足。

::: warning Array()的缺点

数组构造函数 `Array()` 会因为参数个数的不同而导致结果有差异。如下所示：

``` javascript {2}
console.log(new Array()); // []
console.log(new Array(2)); // [ , ]
console.log(new Array(1, 2, 3)); // [1, 2, 3]
```
:::

``` javascript {2}
console.log(Array.of()); // []
console.log(Array.of(2)); // [2]
console.log(Array.of(1, 2, 3)); // [1, 2, 3]
```

## sort & toSorted

数组的 `sort()` 和 `toSorted()` 方法都可以实现数组排序。

> [!NOTE] 二者区别
> - `sort()` 方法排序后，**会更改原数组**（原地排序）；
> - `toSorted()` 方法排序后，会 **返回一个排序后的新数组**，不会改变原数组；
> 

:::code-group
``` javascript [sort()] {}
const people = [
  { name: "王一博", age: 25 },
  { name: "彭于晏", age: 40 },
  { name: "陈伟霆", age: 32 },
];
// 升序
people.sort((a, b) => a.age - b.age);
console.log(people);
// 降序
people.sort((a, b) => b.age - a.age);
console.log(people);
```

``` javascript [toSorted()] {}
const people = [
  { name: "王一博", age: 25 },
  { name: "彭于晏", age: 40 },
  { name: "陈伟霆", age: 32 },
];
// 升序
const sorted = people.toSorted((a, b) => a.age - b.age);
console.log(sorted);
// 降序
const sorted = people.toSorted((a, b) => b.age - a.age);
console.log(sorted);
```
:::
